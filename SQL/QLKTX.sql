USE [master]
GO
/****** Object:  Database [ql_KTX]    Script Date: 6/13/2022 11:21:08 PM ******/
CREATE DATABASE [ql_KTX]
 CONTAINMENT = NONE
 ON  PRIMARY 
( NAME = N'ql_KTX', FILENAME = N'D:\Docs\Apps\Developing\Microsoft SQL Server\MSSQL15.MSSQLSERVER\MSSQL\DATA\ql_KTX.mdf' , SIZE = 8192KB , MAXSIZE = UNLIMITED, FILEGROWTH = 65536KB )
 LOG ON 
( NAME = N'ql_KTX_log', FILENAME = N'D:\Docs\Apps\Developing\Microsoft SQL Server\MSSQL15.MSSQLSERVER\MSSQL\DATA\ql_KTX_log.ldf' , SIZE = 8192KB , MAXSIZE = 2048GB , FILEGROWTH = 65536KB )
 WITH CATALOG_COLLATION = DATABASE_DEFAULT
GO
ALTER DATABASE [ql_KTX] SET COMPATIBILITY_LEVEL = 150
GO
IF (1 = FULLTEXTSERVICEPROPERTY('IsFullTextInstalled'))
begin
EXEC [ql_KTX].[dbo].[sp_fulltext_database] @action = 'enable'
end
GO
ALTER DATABASE [ql_KTX] SET ANSI_NULL_DEFAULT OFF 
GO
ALTER DATABASE [ql_KTX] SET ANSI_NULLS OFF 
GO
ALTER DATABASE [ql_KTX] SET ANSI_PADDING OFF 
GO
ALTER DATABASE [ql_KTX] SET ANSI_WARNINGS OFF 
GO
ALTER DATABASE [ql_KTX] SET ARITHABORT OFF 
GO
ALTER DATABASE [ql_KTX] SET AUTO_CLOSE OFF 
GO
ALTER DATABASE [ql_KTX] SET AUTO_SHRINK OFF 
GO
ALTER DATABASE [ql_KTX] SET AUTO_UPDATE_STATISTICS ON 
GO
ALTER DATABASE [ql_KTX] SET CURSOR_CLOSE_ON_COMMIT OFF 
GO
ALTER DATABASE [ql_KTX] SET CURSOR_DEFAULT  GLOBAL 
GO
ALTER DATABASE [ql_KTX] SET CONCAT_NULL_YIELDS_NULL OFF 
GO
ALTER DATABASE [ql_KTX] SET NUMERIC_ROUNDABORT OFF 
GO
ALTER DATABASE [ql_KTX] SET QUOTED_IDENTIFIER OFF 
GO
ALTER DATABASE [ql_KTX] SET RECURSIVE_TRIGGERS OFF 
GO
ALTER DATABASE [ql_KTX] SET  DISABLE_BROKER 
GO
ALTER DATABASE [ql_KTX] SET AUTO_UPDATE_STATISTICS_ASYNC OFF 
GO
ALTER DATABASE [ql_KTX] SET DATE_CORRELATION_OPTIMIZATION OFF 
GO
ALTER DATABASE [ql_KTX] SET TRUSTWORTHY OFF 
GO
ALTER DATABASE [ql_KTX] SET ALLOW_SNAPSHOT_ISOLATION OFF 
GO
ALTER DATABASE [ql_KTX] SET PARAMETERIZATION SIMPLE 
GO
ALTER DATABASE [ql_KTX] SET READ_COMMITTED_SNAPSHOT OFF 
GO
ALTER DATABASE [ql_KTX] SET HONOR_BROKER_PRIORITY OFF 
GO
ALTER DATABASE [ql_KTX] SET RECOVERY FULL 
GO
ALTER DATABASE [ql_KTX] SET  MULTI_USER 
GO
ALTER DATABASE [ql_KTX] SET PAGE_VERIFY CHECKSUM  
GO
ALTER DATABASE [ql_KTX] SET DB_CHAINING OFF 
GO
ALTER DATABASE [ql_KTX] SET FILESTREAM( NON_TRANSACTED_ACCESS = OFF ) 
GO
ALTER DATABASE [ql_KTX] SET TARGET_RECOVERY_TIME = 60 SECONDS 
GO
ALTER DATABASE [ql_KTX] SET DELAYED_DURABILITY = DISABLED 
GO
ALTER DATABASE [ql_KTX] SET ACCELERATED_DATABASE_RECOVERY = OFF  
GO
EXEC sys.sp_db_vardecimal_storage_format N'ql_KTX', N'ON'
GO
ALTER DATABASE [ql_KTX] SET QUERY_STORE = OFF
GO
USE [ql_KTX]
GO
/****** Object:  Table [dbo].[HOADONDIEN]    Script Date: 6/13/2022 11:21:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[HOADONDIEN](
	[MAHDD] [char](10) NOT NULL,
	[CHISOTRUOC] [varchar](10) NOT NULL,
	[CHISOSAU] [varchar](10) NOT NULL,
	[TONGTIEN] [money] NOT NULL,
	[TIENNO] [bit] NULL,
	[NGAYTAO] [datetime] NOT NULL,
	[MAPHONG] [char](3) NOT NULL,
	[MAQL] [varchar](10) NOT NULL,
 CONSTRAINT [PK_HOADONDIEN] PRIMARY KEY CLUSTERED 
(
	[MAHDD] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[HOPDONG]    Script Date: 6/13/2022 11:21:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[HOPDONG](
	[MAHD] [nchar](10) NOT NULL,
	[NGAYTAO] [date] NOT NULL,
	[SOTIEN] [money] NOT NULL,
	[NAMHOC] [char](9) NOT NULL,
	[HOCKY] [char](1) NOT NULL,
	[TIENNO] [money] NULL,
	[MAPHONG] [char](3) NOT NULL,
	[MASV] [char](10) NOT NULL,
	[MAQL] [varchar](10) NOT NULL,
 CONSTRAINT [PK_HOPDONG] PRIMARY KEY CLUSTERED 
(
	[MAHD] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[LOAIPHONG]    Script Date: 6/13/2022 11:21:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[LOAIPHONG](
	[MALOAIPHONG] [char](5) NOT NULL,
	[DICHVU] [nvarchar](10) NOT NULL,
	[MUCDIENHOTRO_KWh] [tinyint] NOT NULL,
	[GIALOAIPHONG] [money] NOT NULL,
 CONSTRAINT [PK_LOAIPHONG] PRIMARY KEY CLUSTERED 
(
	[MALOAIPHONG] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[PERMISSION]    Script Date: 6/13/2022 11:21:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[PERMISSION](
	[MAPMS] [nchar](10) NOT NULL,
	[CONGVIEC] [nvarchar](100) NULL,
 CONSTRAINT [PK_PERMISSION] PRIMARY KEY CLUSTERED 
(
	[MAPMS] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[PHANCONGVIEC]    Script Date: 6/13/2022 11:21:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[PHANCONGVIEC](
	[MAPQ] [varchar](4) NOT NULL,
	[MAPMS] [nchar](10) NOT NULL,
 CONSTRAINT [PK_PHANCONGVIEC_1] PRIMARY KEY CLUSTERED 
(
	[MAPQ] ASC,
	[MAPMS] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[PHANQUYEN]    Script Date: 6/13/2022 11:21:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[PHANQUYEN](
	[MAPQ] [varchar](4) NOT NULL,
	[VAITRO] [nvarchar](50) NOT NULL,
 CONSTRAINT [PK_PHANQUYEN] PRIMARY KEY CLUSTERED 
(
	[MAPQ] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[PHONG]    Script Date: 6/13/2022 11:21:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[PHONG](
	[MAPHONG] [char](3) NOT NULL,
	[TINHTRANG] [nvarchar](10) NOT NULL,
	[SUCCHUA] [tinyint] NOT NULL,
	[KHU] [nvarchar](10) NOT NULL,
	[MALOAIPHONG] [char](5) NOT NULL,
	[MAQL] [varchar](10) NOT NULL,
 CONSTRAINT [PK_PHONG] PRIMARY KEY CLUSTERED 
(
	[MAPHONG] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[QUANLY]    Script Date: 6/13/2022 11:21:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[QUANLY](
	[MAQL] [varchar](10) NOT NULL,
	[HO] [nvarchar](20) NOT NULL,
	[TEN] [nvarchar](50) NOT NULL,
	[NGAYNHANVIEC] [date] NOT NULL,
	[USERNAME] [nvarchar](30) NOT NULL,
 CONSTRAINT [PK_QUANLY] PRIMARY KEY CLUSTERED 
(
	[MAQL] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[QUYENTAIKHOAN]    Script Date: 6/13/2022 11:21:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[QUYENTAIKHOAN](
	[USERNAME] [nvarchar](30) NOT NULL,
	[MAPQ] [varchar](4) NOT NULL,
	[NGAYSET] [date] NOT NULL,
 CONSTRAINT [PK_QUYENTAIKHOAN] PRIMARY KEY CLUSTERED 
(
	[USERNAME] ASC,
	[MAPQ] ASC,
	[NGAYSET] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[SINHVIEN]    Script Date: 6/13/2022 11:21:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[SINHVIEN](
	[MASV] [char](10) NOT NULL,
	[HO] [nvarchar](20) NOT NULL,
	[TEN] [nvarchar](50) NOT NULL,
	[NGAYSINH] [date] NOT NULL,
	[DIACHI] [nvarchar](100) NULL,
	[SDT] [varchar](15) NULL,
	[GIOITINH] [nvarchar](3) NOT NULL,
	[XETDIEUKIEN] [bit] NOT NULL,
	[VIPHAMNOIQUY] [nchar](10) NULL,
	[MAQL] [varchar](10) NOT NULL,
 CONSTRAINT [PK_SINHVIEN] PRIMARY KEY CLUSTERED 
(
	[MASV] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[TAIKHOAN]    Script Date: 6/13/2022 11:21:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[TAIKHOAN](
	[USERNAME] [nvarchar](30) NOT NULL,
	[PASSWORD] [nvarchar](50) NOT NULL,
	[TINHTRANGSUDUNG] [bit] NULL,
 CONSTRAINT [PK_TAIKHOAN] PRIMARY KEY CLUSTERED 
(
	[USERNAME] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[VATTU]    Script Date: 6/13/2022 11:21:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[VATTU](
	[MAVT] [varchar](10) NOT NULL,
	[TENVT] [nvarchar](50) NOT NULL,
	[GIATIEN] [money] NOT NULL,
	[MAQL] [varchar](10) NOT NULL,
 CONSTRAINT [PK_VATTU] PRIMARY KEY CLUSTERED 
(
	[MAVT] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[VT_PHONG]    Script Date: 6/13/2022 11:21:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[VT_PHONG](
	[MAPHONG] [char](3) NOT NULL,
	[MAVT] [varchar](10) NOT NULL,
	[NGAYTHEM] [date] NOT NULL,
	[SOLUONG] [tinyint] NOT NULL,
	[TINHTRANG] [nvarchar](10) NOT NULL,
	[TIENNO] [bit] NOT NULL,
 CONSTRAINT [PK_VT_PHONG] PRIMARY KEY CLUSTERED 
(
	[MAPHONG] ASC,
	[MAVT] ASC,
	[NGAYTHEM] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
INSERT [dbo].[HOADONDIEN] ([MAHDD], [CHISOTRUOC], [CHISOSAU], [TONGTIEN], [TIENNO], [NGAYTAO], [MAPHONG], [MAQL]) VALUES (N'HDD001    ', N'1', N'2', 100000.0000, 1, CAST(N'2022-05-05T00:00:00.000' AS DateTime), N'A01', N'QL00000001')
GO
INSERT [dbo].[HOPDONG] ([MAHD], [NGAYTAO], [SOTIEN], [NAMHOC], [HOCKY], [TIENNO], [MAPHONG], [MASV], [MAQL]) VALUES (N'HD00000001', CAST(N'2019-09-05' AS Date), 800000.0000, N'2019-2020', N'1', 310000.0000, N'A01', N'N19DCAT002', N'QL00000002')
GO
INSERT [dbo].[HOPDONG] ([MAHD], [NGAYTAO], [SOTIEN], [NAMHOC], [HOCKY], [TIENNO], [MAPHONG], [MASV], [MAQL]) VALUES (N'HD00000002', CAST(N'2019-09-04' AS Date), 1650000.0000, N'2019-2020', N'1', 0.0000, N'B01', N'N19DCAT002', N'QL00000002')
GO
INSERT [dbo].[HOPDONG] ([MAHD], [NGAYTAO], [SOTIEN], [NAMHOC], [HOCKY], [TIENNO], [MAPHONG], [MASV], [MAQL]) VALUES (N'HD00000003', CAST(N'2019-09-04' AS Date), 600000.0000, N'2019-2020', N'1', 0.0000, N'A01', N'N19DCAT002', N'QL00000002')
GO
INSERT [dbo].[HOPDONG] ([MAHD], [NGAYTAO], [SOTIEN], [NAMHOC], [HOCKY], [TIENNO], [MAPHONG], [MASV], [MAQL]) VALUES (N'HD00000004', CAST(N'2019-09-04' AS Date), 600000.0000, N'2019-2020', N'1', 0.0000, N'A01', N'N19DCAT002', N'QL00000002')
GO
INSERT [dbo].[HOPDONG] ([MAHD], [NGAYTAO], [SOTIEN], [NAMHOC], [HOCKY], [TIENNO], [MAPHONG], [MASV], [MAQL]) VALUES (N'HD00000005', CAST(N'2020-02-16' AS Date), 1650000.0000, N'2019-2020', N'2', 0.0000, N'B01', N'N19DCAT002', N'QL00000002')
GO
INSERT [dbo].[HOPDONG] ([MAHD], [NGAYTAO], [SOTIEN], [NAMHOC], [HOCKY], [TIENNO], [MAPHONG], [MASV], [MAQL]) VALUES (N'HD00000006', CAST(N'2020-02-18' AS Date), 1650000.0000, N'2019-2020', N'2', 0.0000, N'B01', N'N19DCAT002', N'QL00000002')
GO
INSERT [dbo].[HOPDONG] ([MAHD], [NGAYTAO], [SOTIEN], [NAMHOC], [HOCKY], [TIENNO], [MAPHONG], [MASV], [MAQL]) VALUES (N'HD00000007', CAST(N'2020-02-18' AS Date), 1650000.0000, N'2019-2020', N'2', 0.0000, N'B01', N'N19DCAT002', N'QL00000002')
GO
INSERT [dbo].[HOPDONG] ([MAHD], [NGAYTAO], [SOTIEN], [NAMHOC], [HOCKY], [TIENNO], [MAPHONG], [MASV], [MAQL]) VALUES (N'HD00000008', CAST(N'2020-02-08' AS Date), 1650000.0000, N'2019-2020', N'2', 0.0000, N'B02', N'N19DCAT002', N'QL00000002')
GO
INSERT [dbo].[HOPDONG] ([MAHD], [NGAYTAO], [SOTIEN], [NAMHOC], [HOCKY], [TIENNO], [MAPHONG], [MASV], [MAQL]) VALUES (N'HD00000009', CAST(N'2020-09-04' AS Date), 1650000.0000, N'2019-2020', N'1', 0.0000, N'B02', N'N19DCAT002', N'QL00000007')
GO
INSERT [dbo].[HOPDONG] ([MAHD], [NGAYTAO], [SOTIEN], [NAMHOC], [HOCKY], [TIENNO], [MAPHONG], [MASV], [MAQL]) VALUES (N'HD00000010', CAST(N'2021-01-15' AS Date), 1650000.0000, N'2019-2020', N'2', 0.0000, N'B02', N'N19DCAT002', N'QL00000007')
GO
INSERT [dbo].[HOPDONG] ([MAHD], [NGAYTAO], [SOTIEN], [NAMHOC], [HOCKY], [TIENNO], [MAPHONG], [MASV], [MAQL]) VALUES (N'HD00000011', CAST(N'2021-06-12' AS Date), 660000.0000, N'2019-2020', N'3', 0.0000, N'B02', N'N19DCAT002', N'QL00000007')
GO
INSERT [dbo].[HOPDONG] ([MAHD], [NGAYTAO], [SOTIEN], [NAMHOC], [HOCKY], [TIENNO], [MAPHONG], [MASV], [MAQL]) VALUES (N'HD00000012', CAST(N'2022-02-06' AS Date), 660000.0000, N'2021-2022', N'3', 0.0000, N'B02', N'N19DCAT002', N'QL00000007')
GO
INSERT [dbo].[HOPDONG] ([MAHD], [NGAYTAO], [SOTIEN], [NAMHOC], [HOCKY], [TIENNO], [MAPHONG], [MASV], [MAQL]) VALUES (N'HD00000013', CAST(N'2022-06-08' AS Date), 120000000.0000, N'2021-2022', N'2', 50000000.0000, N'A05', N'N19DCAT002', N'QL00000007')
GO
INSERT [dbo].[LOAIPHONG] ([MALOAIPHONG], [DICHVU], [MUCDIENHOTRO_KWh], [GIALOAIPHONG]) VALUES (N'DV001', N'Dịch vụ', 14, 330000.0000)
GO
INSERT [dbo].[LOAIPHONG] ([MALOAIPHONG], [DICHVU], [MUCDIENHOTRO_KWh], [GIALOAIPHONG]) VALUES (N'DVVIP', N'DVVIP', 0, 430000.0000)
GO
INSERT [dbo].[LOAIPHONG] ([MALOAIPHONG], [DICHVU], [MUCDIENHOTRO_KWh], [GIALOAIPHONG]) VALUES (N'TT001', N'Thường', 8, 120000.0000)
GO
INSERT [dbo].[PERMISSION] ([MAPMS], [CONGVIEC]) VALUES (N'VTP       ', N'THÊM XÓA CẬP NHẬT VẬT TƯ CỦA TỪNG PHÒNG')
GO
INSERT [dbo].[PERMISSION] ([MAPMS], [CONGVIEC]) VALUES (N'P         ', N'THÊM XÓA SỬA CẬP NHẬT THÔNG TIN, TÌNH TRẠNG PHÒNG')
GO
INSERT [dbo].[PERMISSION] ([MAPMS], [CONGVIEC]) VALUES (N'HDD       ', N'THÊM XÓA SỬA HÓA ĐƠN ĐIỆN CỦA TỪNG PHÒNG')
GO
INSERT [dbo].[PERMISSION] ([MAPMS], [CONGVIEC]) VALUES (N'HD        ', N'THÊM XÓA SỬA THÔNG TIN HỢP ĐỒNG')
GO
INSERT [dbo].[PERMISSION] ([MAPMS], [CONGVIEC]) VALUES (N'SV        ', N'THÊM XÓA SỬA THÔNG TIN SINH VIÊN')
GO
INSERT [dbo].[PERMISSION] ([MAPMS], [CONGVIEC]) VALUES (N'VT        ', N'THÊM XÓA SỬA VẬT TƯ')
GO
INSERT [dbo].[PERMISSION] ([MAPMS], [CONGVIEC]) VALUES (N'A         ', N'TOÀN QUYỀN')
GO
INSERT [dbo].[PERMISSION] ([MAPMS], [CONGVIEC]) VALUES (N'X         ', N'XEM TẤT CẢ CÁC THỐNG KÊ')
GO
INSERT [dbo].[PHANCONGVIEC] ([MAPQ], [MAPMS]) VALUES (N'AD', N'A         ')
GO
INSERT [dbo].[PHANCONGVIEC] ([MAPQ], [MAPMS]) VALUES (N'QLD', N'HDD       ')
GO
INSERT [dbo].[PHANCONGVIEC] ([MAPQ], [MAPMS]) VALUES (N'QLD', N'X         ')
GO
INSERT [dbo].[PHANCONGVIEC] ([MAPQ], [MAPMS]) VALUES (N'QLHD', N'HD        ')
GO
INSERT [dbo].[PHANCONGVIEC] ([MAPQ], [MAPMS]) VALUES (N'QLP', N'P         ')
GO
INSERT [dbo].[PHANCONGVIEC] ([MAPQ], [MAPMS]) VALUES (N'QLSV', N'SV        ')
GO
INSERT [dbo].[PHANCONGVIEC] ([MAPQ], [MAPMS]) VALUES (N'QLVT', N'VT        ')
GO
INSERT [dbo].[PHANCONGVIEC] ([MAPQ], [MAPMS]) VALUES (N'QLVT', N'VTP       ')
GO
INSERT [dbo].[PHANQUYEN] ([MAPQ], [VAITRO]) VALUES (N'AD  ', N'Admin')
GO
INSERT [dbo].[PHANQUYEN] ([MAPQ], [VAITRO]) VALUES (N'QLD ', N'Quản lý điện')
GO
INSERT [dbo].[PHANQUYEN] ([MAPQ], [VAITRO]) VALUES (N'QLHD', N'Quản lý hợp đồng')
GO
INSERT [dbo].[PHANQUYEN] ([MAPQ], [VAITRO]) VALUES (N'QLP ', N'Quản lý phòng')
GO
INSERT [dbo].[PHANQUYEN] ([MAPQ], [VAITRO]) VALUES (N'QLSV', N'Quản lý sinh viên')
GO
INSERT [dbo].[PHANQUYEN] ([MAPQ], [VAITRO]) VALUES (N'QLVT', N'Quản lý vật tư')
GO
INSERT [dbo].[PHONG] ([MAPHONG], [TINHTRANG], [SUCCHUA], [KHU], [MALOAIPHONG], [MAQL]) VALUES (N'A01', N'OK', 12, N'A', N'TT001', N'QL00000003')
GO
INSERT [dbo].[PHONG] ([MAPHONG], [TINHTRANG], [SUCCHUA], [KHU], [MALOAIPHONG], [MAQL]) VALUES (N'A02', N'OK', 12, N'A', N'TT001', N'QL00000003')
GO
INSERT [dbo].[PHONG] ([MAPHONG], [TINHTRANG], [SUCCHUA], [KHU], [MALOAIPHONG], [MAQL]) VALUES (N'A03', N'OK', 12, N'A', N'TT001', N'QL00000003')
GO
INSERT [dbo].[PHONG] ([MAPHONG], [TINHTRANG], [SUCCHUA], [KHU], [MALOAIPHONG], [MAQL]) VALUES (N'A04', N'OK', 8, N'A', N'TT001', N'QL00000003')
GO
INSERT [dbo].[PHONG] ([MAPHONG], [TINHTRANG], [SUCCHUA], [KHU], [MALOAIPHONG], [MAQL]) VALUES (N'A05', N'OK', 8, N'A', N'TT001', N'QL00000003')
GO
INSERT [dbo].[PHONG] ([MAPHONG], [TINHTRANG], [SUCCHUA], [KHU], [MALOAIPHONG], [MAQL]) VALUES (N'A06', N'OK', 10, N'A', N'TT001', N'QL00000003')
GO
INSERT [dbo].[PHONG] ([MAPHONG], [TINHTRANG], [SUCCHUA], [KHU], [MALOAIPHONG], [MAQL]) VALUES (N'A07', N'OK', 10, N'A', N'TT001', N'QL00000003')
GO
INSERT [dbo].[PHONG] ([MAPHONG], [TINHTRANG], [SUCCHUA], [KHU], [MALOAIPHONG], [MAQL]) VALUES (N'A08', N'OK', 10, N'A', N'TT001', N'QL00000003')
GO
INSERT [dbo].[PHONG] ([MAPHONG], [TINHTRANG], [SUCCHUA], [KHU], [MALOAIPHONG], [MAQL]) VALUES (N'B01', N'OK', 8, N'B', N'DV001', N'QL00000003')
GO
INSERT [dbo].[PHONG] ([MAPHONG], [TINHTRANG], [SUCCHUA], [KHU], [MALOAIPHONG], [MAQL]) VALUES (N'B02', N'OK', 8, N'B', N'DV001', N'QL00000003')
GO
INSERT [dbo].[PHONG] ([MAPHONG], [TINHTRANG], [SUCCHUA], [KHU], [MALOAIPHONG], [MAQL]) VALUES (N'B03', N'OK', 8, N'B', N'DV001', N'QL00000003')
GO
INSERT [dbo].[PHONG] ([MAPHONG], [TINHTRANG], [SUCCHUA], [KHU], [MALOAIPHONG], [MAQL]) VALUES (N'B04', N'OK', 8, N'B', N'DV001', N'QL00000003')
GO
INSERT [dbo].[PHONG] ([MAPHONG], [TINHTRANG], [SUCCHUA], [KHU], [MALOAIPHONG], [MAQL]) VALUES (N'B05', N'OK', 8, N'B', N'DV001', N'QL00000003')
GO
INSERT [dbo].[PHONG] ([MAPHONG], [TINHTRANG], [SUCCHUA], [KHU], [MALOAIPHONG], [MAQL]) VALUES (N'B06', N'OK', 6, N'B', N'DV001', N'QL00000003')
GO
INSERT [dbo].[PHONG] ([MAPHONG], [TINHTRANG], [SUCCHUA], [KHU], [MALOAIPHONG], [MAQL]) VALUES (N'B07', N'OK', 6, N'B', N'DV001', N'QL00000003')
GO
INSERT [dbo].[PHONG] ([MAPHONG], [TINHTRANG], [SUCCHUA], [KHU], [MALOAIPHONG], [MAQL]) VALUES (N'C01', N'OK', 10, N'C', N'DVVIP', N'QL00000003')
GO
INSERT [dbo].[PHONG] ([MAPHONG], [TINHTRANG], [SUCCHUA], [KHU], [MALOAIPHONG], [MAQL]) VALUES (N'C02', N'OK', 10, N'C', N'DVVIP', N'QL00000003')
GO
INSERT [dbo].[PHONG] ([MAPHONG], [TINHTRANG], [SUCCHUA], [KHU], [MALOAIPHONG], [MAQL]) VALUES (N'C03', N'OK', 10, N'C', N'DVVIP', N'QL00000003')
GO
INSERT [dbo].[PHONG] ([MAPHONG], [TINHTRANG], [SUCCHUA], [KHU], [MALOAIPHONG], [MAQL]) VALUES (N'C04', N'OK', 10, N'C', N'DVVIP', N'QL00000003')
GO
INSERT [dbo].[PHONG] ([MAPHONG], [TINHTRANG], [SUCCHUA], [KHU], [MALOAIPHONG], [MAQL]) VALUES (N'C05', N'OK', 10, N'C', N'DVVIP', N'QL00000003')
GO
INSERT [dbo].[QUANLY] ([MAQL], [HO], [TEN], [NGAYNHANVIEC], [USERNAME]) VALUES (N'QL00000001', N'Lê', N'A', CAST(N'2002-06-06' AS Date), N'usersv1                       ')
GO
INSERT [dbo].[QUANLY] ([MAQL], [HO], [TEN], [NGAYNHANVIEC], [USERNAME]) VALUES (N'QL00000002', N'Nguyễn', N'B', CAST(N'2018-01-05' AS Date), N'userhd1                       ')
GO
INSERT [dbo].[QUANLY] ([MAQL], [HO], [TEN], [NGAYNHANVIEC], [USERNAME]) VALUES (N'QL00000003', N'Trần', N'C', CAST(N'2002-07-15' AS Date), N'userp1                        ')
GO
INSERT [dbo].[QUANLY] ([MAQL], [HO], [TEN], [NGAYNHANVIEC], [USERNAME]) VALUES (N'QL00000004', N'Phạm', N'D', CAST(N'2019-11-26' AS Date), N'uservt1                       ')
GO
INSERT [dbo].[QUANLY] ([MAQL], [HO], [TEN], [NGAYNHANVIEC], [USERNAME]) VALUES (N'QL00000005', N'Phan', N'T', CAST(N'2019-08-08' AS Date), N'userd1                        ')
GO
INSERT [dbo].[QUANLY] ([MAQL], [HO], [TEN], [NGAYNHANVIEC], [USERNAME]) VALUES (N'QL00000006', N'Lê', N'F', CAST(N'2018-12-12' AS Date), N'usersv2                       ')
GO
INSERT [dbo].[QUANLY] ([MAQL], [HO], [TEN], [NGAYNHANVIEC], [USERNAME]) VALUES (N'QL00000007', N'Nguyễn', N'G', CAST(N'2018-06-27' AS Date), N'userhd2                       ')
GO
INSERT [dbo].[QUANLY] ([MAQL], [HO], [TEN], [NGAYNHANVIEC], [USERNAME]) VALUES (N'QL00000008', N'Trần', N'H', CAST(N'2018-04-07' AS Date), N'userp2                        ')
GO
INSERT [dbo].[QUANLY] ([MAQL], [HO], [TEN], [NGAYNHANVIEC], [USERNAME]) VALUES (N'QL00000009', N'Nguyễn', N'O', CAST(N'2022-01-01' AS Date), N'userd2')
GO
INSERT [dbo].[QUANLY] ([MAQL], [HO], [TEN], [NGAYNHANVIEC], [USERNAME]) VALUES (N'QL00000010', N'Đinh', N'Nguyễn Thiên Ân', CAST(N'2022-06-09' AS Date), N'admin')
GO
INSERT [dbo].[QUYENTAIKHOAN] ([USERNAME], [MAPQ], [NGAYSET]) VALUES (N'admin', N'AD', CAST(N'2000-01-01' AS Date))
GO
INSERT [dbo].[QUYENTAIKHOAN] ([USERNAME], [MAPQ], [NGAYSET]) VALUES (N'admin2', N'AD', CAST(N'2022-01-01' AS Date))
GO
INSERT [dbo].[QUYENTAIKHOAN] ([USERNAME], [MAPQ], [NGAYSET]) VALUES (N'userd1', N'QLD', CAST(N'2019-08-08' AS Date))
GO
INSERT [dbo].[QUYENTAIKHOAN] ([USERNAME], [MAPQ], [NGAYSET]) VALUES (N'userd2', N'QLD', CAST(N'2022-01-01' AS Date))
GO
INSERT [dbo].[QUYENTAIKHOAN] ([USERNAME], [MAPQ], [NGAYSET]) VALUES (N'userhd1', N'QLHD', CAST(N'2018-01-05' AS Date))
GO
INSERT [dbo].[QUYENTAIKHOAN] ([USERNAME], [MAPQ], [NGAYSET]) VALUES (N'userhd2', N'QLHD', CAST(N'2018-06-27' AS Date))
GO
INSERT [dbo].[QUYENTAIKHOAN] ([USERNAME], [MAPQ], [NGAYSET]) VALUES (N'userp1', N'QLP', CAST(N'2020-07-15' AS Date))
GO
INSERT [dbo].[QUYENTAIKHOAN] ([USERNAME], [MAPQ], [NGAYSET]) VALUES (N'userp2', N'QLP', CAST(N'2020-01-01' AS Date))
GO
INSERT [dbo].[QUYENTAIKHOAN] ([USERNAME], [MAPQ], [NGAYSET]) VALUES (N'usersv1', N'QLSV', CAST(N'2002-06-06' AS Date))
GO
INSERT [dbo].[QUYENTAIKHOAN] ([USERNAME], [MAPQ], [NGAYSET]) VALUES (N'usersv2', N'QLSV', CAST(N'2018-12-12' AS Date))
GO
INSERT [dbo].[QUYENTAIKHOAN] ([USERNAME], [MAPQ], [NGAYSET]) VALUES (N'uservt1', N'QLVT', CAST(N'2002-06-06' AS Date))
GO
INSERT [dbo].[QUYENTAIKHOAN] ([USERNAME], [MAPQ], [NGAYSET]) VALUES (N'uservt2', N'QLVT', CAST(N'2020-01-01' AS Date))
GO
INSERT [dbo].[SINHVIEN] ([MASV], [HO], [TEN], [NGAYSINH], [DIACHI], [SDT], [GIOITINH], [XETDIEUKIEN], [VIPHAMNOIQUY], [MAQL]) VALUES (N'123       ', N'asdff', N'sd', CAST(N'2004-12-21' AS Date), N'asdasd', N'0947187675', N'Nữ', 1, N'Q         ', N'QL00000010')
GO
INSERT [dbo].[SINHVIEN] ([MASV], [HO], [TEN], [NGAYSINH], [DIACHI], [SDT], [GIOITINH], [XETDIEUKIEN], [VIPHAMNOIQUY], [MAQL]) VALUES (N'2344      ', N'asd', N'asd', CAST(N'2004-12-01' AS Date), N'asd', N'0947187675', N'Nam', 1, N'asd       ', N'QL00000010')
GO
INSERT [dbo].[SINHVIEN] ([MASV], [HO], [TEN], [NGAYSINH], [DIACHI], [SDT], [GIOITINH], [XETDIEUKIEN], [VIPHAMNOIQUY], [MAQL]) VALUES (N'N19DCAT002', N'Lê', N'Thị B', CAST(N'2001-03-02' AS Date), N'192 Man Thiện', N'0941234567', N'Nữ', 1, N'          ', N'QL00000001')
GO
INSERT [dbo].[SINHVIEN] ([MASV], [HO], [TEN], [NGAYSINH], [DIACHI], [SDT], [GIOITINH], [XETDIEUKIEN], [VIPHAMNOIQUY], [MAQL]) VALUES (N'N19DCAT003', N'Lê', N'Văn C', CAST(N'2001-03-02' AS Date), N'192 Man Thiện', N'0941234567', N'Nam', 1, N'          ', N'QL00000001')
GO
INSERT [dbo].[SINHVIEN] ([MASV], [HO], [TEN], [NGAYSINH], [DIACHI], [SDT], [GIOITINH], [XETDIEUKIEN], [VIPHAMNOIQUY], [MAQL]) VALUES (N'N19DCAT004', N'Lê', N'Thị D', CAST(N'2001-03-02' AS Date), N'192 Man Thiện', N'0941234567', N'Nữ', 0, N'VPNQ      ', N'QL00000001')
GO
INSERT [dbo].[SINHVIEN] ([MASV], [HO], [TEN], [NGAYSINH], [DIACHI], [SDT], [GIOITINH], [XETDIEUKIEN], [VIPHAMNOIQUY], [MAQL]) VALUES (N'N19DCAT007', N'Lê', N'Văn G', CAST(N'2001-03-02' AS Date), N'192 Man Thiện', N'0941234567', N'Nam', 1, N'          ', N'QL00000001')
GO
INSERT [dbo].[SINHVIEN] ([MASV], [HO], [TEN], [NGAYSINH], [DIACHI], [SDT], [GIOITINH], [XETDIEUKIEN], [VIPHAMNOIQUY], [MAQL]) VALUES (N'N19DCAT008', N'Lê', N'Thị H', CAST(N'2001-03-02' AS Date), N'192 Man Thiện', N'0941234567', N'Nữ', 1, N'          ', N'QL00000001')
GO
INSERT [dbo].[SINHVIEN] ([MASV], [HO], [TEN], [NGAYSINH], [DIACHI], [SDT], [GIOITINH], [XETDIEUKIEN], [VIPHAMNOIQUY], [MAQL]) VALUES (N'N19DCAT009', N'Trần', N'Aaa', CAST(N'2001-03-28' AS Date), N'97 Hiệp Phú', N'0941234567', N'Nam', 1, N'          ', N'QL00000001')
GO
INSERT [dbo].[SINHVIEN] ([MASV], [HO], [TEN], [NGAYSINH], [DIACHI], [SDT], [GIOITINH], [XETDIEUKIEN], [VIPHAMNOIQUY], [MAQL]) VALUES (N'N19DCAT010', N'Nguyễn', N'Mình A', CAST(N'2001-02-05' AS Date), N'97 Man Thiện', N'0636585487', N'Nam', 1, N'          ', N'QL00000001')
GO
INSERT [dbo].[SINHVIEN] ([MASV], [HO], [TEN], [NGAYSINH], [DIACHI], [SDT], [GIOITINH], [XETDIEUKIEN], [VIPHAMNOIQUY], [MAQL]) VALUES (N'N19DCAT011', N'Nguyễn', N'Mình A', CAST(N'2001-02-05' AS Date), N'97 Man Thiện', N'0636585487', N'Nam', 1, N'          ', N'QL00000001')
GO
INSERT [dbo].[SINHVIEN] ([MASV], [HO], [TEN], [NGAYSINH], [DIACHI], [SDT], [GIOITINH], [XETDIEUKIEN], [VIPHAMNOIQUY], [MAQL]) VALUES (N'N19DCAT012', N'Nguyễn', N'Mình A', CAST(N'2001-02-05' AS Date), N'97 Man Thiện', N'0636585487', N'Nam', 1, N'          ', N'QL00000001')
GO
INSERT [dbo].[SINHVIEN] ([MASV], [HO], [TEN], [NGAYSINH], [DIACHI], [SDT], [GIOITINH], [XETDIEUKIEN], [VIPHAMNOIQUY], [MAQL]) VALUES (N'N19DCAT013', N'Nguyễn', N'Mình A', CAST(N'2001-02-05' AS Date), N'97 Man Thiện', N'0636585487', N'Nam', 1, N'          ', N'QL00000001')
GO
INSERT [dbo].[SINHVIEN] ([MASV], [HO], [TEN], [NGAYSINH], [DIACHI], [SDT], [GIOITINH], [XETDIEUKIEN], [VIPHAMNOIQUY], [MAQL]) VALUES (N'N19DCAT014', N'Nguyễn', N'Mình A', CAST(N'2001-02-05' AS Date), N'97 Man Thiện', N'0636585487', N'Nam', 1, N'          ', N'QL00000001')
GO
INSERT [dbo].[SINHVIEN] ([MASV], [HO], [TEN], [NGAYSINH], [DIACHI], [SDT], [GIOITINH], [XETDIEUKIEN], [VIPHAMNOIQUY], [MAQL]) VALUES (N'N19DCAT015', N'Nguyễn', N'Mình A', CAST(N'2001-02-05' AS Date), N'97 Man Thiện', N'0636585487', N'Nam', 1, N'          ', N'QL00000001')
GO
INSERT [dbo].[SINHVIEN] ([MASV], [HO], [TEN], [NGAYSINH], [DIACHI], [SDT], [GIOITINH], [XETDIEUKIEN], [VIPHAMNOIQUY], [MAQL]) VALUES (N'N19DCAT016', N'Nguyễn', N'Mình A', CAST(N'2001-02-05' AS Date), N'97 Man Thiện', N'0636585487', N'Nam', 1, N'          ', N'QL00000001')
GO
INSERT [dbo].[SINHVIEN] ([MASV], [HO], [TEN], [NGAYSINH], [DIACHI], [SDT], [GIOITINH], [XETDIEUKIEN], [VIPHAMNOIQUY], [MAQL]) VALUES (N'N19DCAT017', N'Nguyễn', N'Mình A', CAST(N'2001-02-05' AS Date), N'97 Man Thiện', N'0636585487', N'Nam', 1, N'          ', N'QL00000001')
GO
INSERT [dbo].[SINHVIEN] ([MASV], [HO], [TEN], [NGAYSINH], [DIACHI], [SDT], [GIOITINH], [XETDIEUKIEN], [VIPHAMNOIQUY], [MAQL]) VALUES (N'N19DCAT018', N'Nguyễn', N'Mình A', CAST(N'2001-02-05' AS Date), N'97 Man Thiện', N'0636585487', N'Nam', 1, N'          ', N'QL00000001')
GO
INSERT [dbo].[SINHVIEN] ([MASV], [HO], [TEN], [NGAYSINH], [DIACHI], [SDT], [GIOITINH], [XETDIEUKIEN], [VIPHAMNOIQUY], [MAQL]) VALUES (N'N19DCAT019', N'Nguyễn', N'Mình A', CAST(N'2001-02-05' AS Date), N'97 Man Thiện', N'0636585487', N'Nam', 1, N'          ', N'QL00000001')
GO
INSERT [dbo].[SINHVIEN] ([MASV], [HO], [TEN], [NGAYSINH], [DIACHI], [SDT], [GIOITINH], [XETDIEUKIEN], [VIPHAMNOIQUY], [MAQL]) VALUES (N'N19DCAT020', N'Nguyễn', N'Mình A', CAST(N'2001-02-05' AS Date), N'97 Man Thiện', N'0636585487', N'Nam', 1, N'          ', N'QL00000001')
GO
INSERT [dbo].[SINHVIEN] ([MASV], [HO], [TEN], [NGAYSINH], [DIACHI], [SDT], [GIOITINH], [XETDIEUKIEN], [VIPHAMNOIQUY], [MAQL]) VALUES (N'N19DCAT021', N'Nguyễn', N'Mình A', CAST(N'2001-02-05' AS Date), N'97 Man Thiện', N'0636585487', N'Nam', 1, N'          ', N'QL00000001')
GO
INSERT [dbo].[SINHVIEN] ([MASV], [HO], [TEN], [NGAYSINH], [DIACHI], [SDT], [GIOITINH], [XETDIEUKIEN], [VIPHAMNOIQUY], [MAQL]) VALUES (N'N19DCAT022', N'Nguyễn', N'Mình A', CAST(N'2001-02-05' AS Date), N'97 Man Thiện', N'0636585487', N'Nam', 1, N'          ', N'QL00000001')
GO
INSERT [dbo].[SINHVIEN] ([MASV], [HO], [TEN], [NGAYSINH], [DIACHI], [SDT], [GIOITINH], [XETDIEUKIEN], [VIPHAMNOIQUY], [MAQL]) VALUES (N'N19DCAT023', N'Nguyễn', N'Mình A', CAST(N'2001-02-05' AS Date), N'97 Man Thiện', N'0636585487', N'Nam', 1, N'          ', N'QL00000001')
GO
INSERT [dbo].[TAIKHOAN] ([USERNAME], [PASSWORD], [TINHTRANGSUDUNG]) VALUES (N'admin                         ', N'asd                                               ', 1)
GO
INSERT [dbo].[TAIKHOAN] ([USERNAME], [PASSWORD], [TINHTRANGSUDUNG]) VALUES (N'admin2                        ', N'admin                                             ', 0)
GO
INSERT [dbo].[TAIKHOAN] ([USERNAME], [PASSWORD], [TINHTRANGSUDUNG]) VALUES (N'userd1                        ', N'asd                                               ', 1)
GO
INSERT [dbo].[TAIKHOAN] ([USERNAME], [PASSWORD], [TINHTRANGSUDUNG]) VALUES (N'userd2                        ', N'asd                                               ', 1)
GO
INSERT [dbo].[TAIKHOAN] ([USERNAME], [PASSWORD], [TINHTRANGSUDUNG]) VALUES (N'userhd1                       ', N'asd                                               ', 1)
GO
INSERT [dbo].[TAIKHOAN] ([USERNAME], [PASSWORD], [TINHTRANGSUDUNG]) VALUES (N'userhd2                       ', N'asd                                               ', 1)
GO
INSERT [dbo].[TAIKHOAN] ([USERNAME], [PASSWORD], [TINHTRANGSUDUNG]) VALUES (N'userp1                        ', N'asd                                               ', 1)
GO
INSERT [dbo].[TAIKHOAN] ([USERNAME], [PASSWORD], [TINHTRANGSUDUNG]) VALUES (N'userp2                        ', N'asd                                               ', 1)
GO
INSERT [dbo].[TAIKHOAN] ([USERNAME], [PASSWORD], [TINHTRANGSUDUNG]) VALUES (N'usersv1                       ', N'asd                                               ', 1)
GO
INSERT [dbo].[TAIKHOAN] ([USERNAME], [PASSWORD], [TINHTRANGSUDUNG]) VALUES (N'usersv2                       ', N'asd                                               ', 1)
GO
INSERT [dbo].[TAIKHOAN] ([USERNAME], [PASSWORD], [TINHTRANGSUDUNG]) VALUES (N'uservt1                       ', N'asd                                               ', 1)
GO
INSERT [dbo].[TAIKHOAN] ([USERNAME], [PASSWORD], [TINHTRANGSUDUNG]) VALUES (N'uservt2                       ', N'asd                                               ', 1)
GO
INSERT [dbo].[VATTU] ([MAVT], [TENVT], [GIATIEN], [MAQL]) VALUES (N'BA01', N'Bàn ăn 01', 1000000.0000, N'QL00000004')
GO
INSERT [dbo].[VATTU] ([MAVT], [TENVT], [GIATIEN], [MAQL]) VALUES (N'BC01', N'Bồn wc 01', 1000000.0000, N'QL00000004')
GO
INSERT [dbo].[VATTU] ([MAVT], [TENVT], [GIATIEN], [MAQL]) VALUES (N'BC02', N'Bồn wc 02', 1500000.0000, N'QL00000004')
GO
INSERT [dbo].[VATTU] ([MAVT], [TENVT], [GIATIEN], [MAQL]) VALUES (N'C01', N'Cửa trước hai cánh', 600000.0000, N'QL00000004')
GO
INSERT [dbo].[VATTU] ([MAVT], [TENVT], [GIATIEN], [MAQL]) VALUES (N'C02', N'Cửa trước một cánh', 120000.0000, N'QL00000004')
GO
INSERT [dbo].[VATTU] ([MAVT], [TENVT], [GIATIEN], [MAQL]) VALUES (N'C03', N'Cửa nhà tắm, nhà vệ sinh', 50000.0000, N'QL00000004')
GO
INSERT [dbo].[VATTU] ([MAVT], [TENVT], [GIATIEN], [MAQL]) VALUES (N'C04', N'Cửa sau', 60000.0000, N'QL00000004')
GO
INSERT [dbo].[VATTU] ([MAVT], [TENVT], [GIATIEN], [MAQL]) VALUES (N'KG01', N'Khung giường hai tầng 01', 50000.0000, N'QL00000004')
GO
INSERT [dbo].[VATTU] ([MAVT], [TENVT], [GIATIEN], [MAQL]) VALUES (N'KG02', N'Khung giường hai tầng 02', 100000.0000, N'QL00000004')
GO
INSERT [dbo].[VATTU] ([MAVT], [TENVT], [GIATIEN], [MAQL]) VALUES (N'OK01', N'Ổ khóa phòng 01', 40000.0000, N'QL00000004')
GO
INSERT [dbo].[VATTU] ([MAVT], [TENVT], [GIATIEN], [MAQL]) VALUES (N'QT01', N'Quạt Trần loại lớn', 1000000.0000, N'QL00000004')
GO
INSERT [dbo].[VATTU] ([MAVT], [TENVT], [GIATIEN], [MAQL]) VALUES (N'QT02', N'Quạt trần loại nhỏ', 500000.0000, N'QL00000004')
GO
INSERT [dbo].[VATTU] ([MAVT], [TENVT], [GIATIEN], [MAQL]) VALUES (N'TD01', N'Tủ đồ thép 01', 50000.0000, N'QL00000004')
GO
INSERT [dbo].[VATTU] ([MAVT], [TENVT], [GIATIEN], [MAQL]) VALUES (N'TV01', N'Tivi LCD 01', 4000000.0000, N'QL00000004')
GO
INSERT [dbo].[VATTU] ([MAVT], [TENVT], [GIATIEN], [MAQL]) VALUES (N'TV02', N'Tivi LCD 02', 6000000.0000, N'QL00000004')
GO
INSERT [dbo].[VATTU] ([MAVT], [TENVT], [GIATIEN], [MAQL]) VALUES (N'VN01', N'Vòi nước 01', 30000.0000, N'QL00000004')
GO
INSERT [dbo].[VATTU] ([MAVT], [TENVT], [GIATIEN], [MAQL]) VALUES (N'VN02', N'Vòi nước 02', 60000.0000, N'QL00000004')
GO
INSERT [dbo].[VATTU] ([MAVT], [TENVT], [GIATIEN], [MAQL]) VALUES (N'VX', N'Vòi xịt wc', 120000.0000, N'QL00000004')
GO
SET ANSI_PADDING ON
GO
/****** Object:  Index [UK_CONGVIEC]    Script Date: 6/13/2022 11:21:08 PM ******/
ALTER TABLE [dbo].[PERMISSION] ADD  CONSTRAINT [UK_CONGVIEC] UNIQUE NONCLUSTERED 
(
	[CONGVIEC] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
GO
SET ANSI_PADDING ON
GO
/****** Object:  Index [UK_USERNAME]    Script Date: 6/13/2022 11:21:08 PM ******/
ALTER TABLE [dbo].[QUANLY] ADD  CONSTRAINT [UK_USERNAME] UNIQUE NONCLUSTERED 
(
	[USERNAME] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
GO
ALTER TABLE [dbo].[HOADONDIEN] ADD  CONSTRAINT [DF_HOADONDIEN_DADONG]  DEFAULT ((0)) FOR [TIENNO]
GO
ALTER TABLE [dbo].[LOAIPHONG] ADD  CONSTRAINT [DF_LOAIPHONG_DICHVU]  DEFAULT (N'THUONG') FOR [DICHVU]
GO
ALTER TABLE [dbo].[PHONG] ADD  CONSTRAINT [DF_PHONG_TINHTRANG]  DEFAULT (N'TOT') FOR [TINHTRANG]
GO
ALTER TABLE [dbo].[SINHVIEN] ADD  CONSTRAINT [DF_SINHVIEN_GIOITINH]  DEFAULT (N'NAM') FOR [GIOITINH]
GO
ALTER TABLE [dbo].[SINHVIEN] ADD  CONSTRAINT [DF_SINHVIEN_XETDIEUKIEN]  DEFAULT ((1)) FOR [XETDIEUKIEN]
GO
ALTER TABLE [dbo].[VT_PHONG] ADD  CONSTRAINT [DF_VT_PHONG_SOLUONG]  DEFAULT ((1)) FOR [SOLUONG]
GO
ALTER TABLE [dbo].[VT_PHONG] ADD  CONSTRAINT [DF_VT_PHONG_TINHTRANG]  DEFAULT (N'TOT') FOR [TINHTRANG]
GO
ALTER TABLE [dbo].[VT_PHONG] ADD  CONSTRAINT [DF_VT_PHONG_DADONG]  DEFAULT ((0)) FOR [TIENNO]
GO
ALTER TABLE [dbo].[HOADONDIEN]  WITH CHECK ADD  CONSTRAINT [FK_HOADONDIEN_PHONG] FOREIGN KEY([MAPHONG])
REFERENCES [dbo].[PHONG] ([MAPHONG])
ON UPDATE CASCADE
GO
ALTER TABLE [dbo].[HOADONDIEN] CHECK CONSTRAINT [FK_HOADONDIEN_PHONG]
GO
ALTER TABLE [dbo].[HOADONDIEN]  WITH CHECK ADD  CONSTRAINT [FK_HOADONDIEN_QUANLY] FOREIGN KEY([MAQL])
REFERENCES [dbo].[QUANLY] ([MAQL])
GO
ALTER TABLE [dbo].[HOADONDIEN] CHECK CONSTRAINT [FK_HOADONDIEN_QUANLY]
GO
ALTER TABLE [dbo].[HOPDONG]  WITH CHECK ADD  CONSTRAINT [FK_HOPDONG_PHONG] FOREIGN KEY([MAPHONG])
REFERENCES [dbo].[PHONG] ([MAPHONG])
GO
ALTER TABLE [dbo].[HOPDONG] CHECK CONSTRAINT [FK_HOPDONG_PHONG]
GO
ALTER TABLE [dbo].[HOPDONG]  WITH CHECK ADD  CONSTRAINT [FK_HOPDONG_QUANLY] FOREIGN KEY([MAQL])
REFERENCES [dbo].[QUANLY] ([MAQL])
ON UPDATE CASCADE
GO
ALTER TABLE [dbo].[HOPDONG] CHECK CONSTRAINT [FK_HOPDONG_QUANLY]
GO
ALTER TABLE [dbo].[HOPDONG]  WITH CHECK ADD  CONSTRAINT [FK_HOPDONG_SINHVIEN] FOREIGN KEY([MASV])
REFERENCES [dbo].[SINHVIEN] ([MASV])
GO
ALTER TABLE [dbo].[HOPDONG] CHECK CONSTRAINT [FK_HOPDONG_SINHVIEN]
GO
ALTER TABLE [dbo].[PHANCONGVIEC]  WITH CHECK ADD  CONSTRAINT [FK_PHANCONGVIEC_PERMISSION] FOREIGN KEY([MAPMS])
REFERENCES [dbo].[PERMISSION] ([MAPMS])
ON UPDATE CASCADE
GO
ALTER TABLE [dbo].[PHANCONGVIEC] CHECK CONSTRAINT [FK_PHANCONGVIEC_PERMISSION]
GO
ALTER TABLE [dbo].[PHANCONGVIEC]  WITH CHECK ADD  CONSTRAINT [FK_PHANCONGVIEC_PHANQUYEN] FOREIGN KEY([MAPQ])
REFERENCES [dbo].[PHANQUYEN] ([MAPQ])
ON UPDATE CASCADE
GO
ALTER TABLE [dbo].[PHANCONGVIEC] CHECK CONSTRAINT [FK_PHANCONGVIEC_PHANQUYEN]
GO
ALTER TABLE [dbo].[PHONG]  WITH CHECK ADD  CONSTRAINT [FK_PHONG_LOAIPHONG] FOREIGN KEY([MALOAIPHONG])
REFERENCES [dbo].[LOAIPHONG] ([MALOAIPHONG])
ON UPDATE CASCADE
GO
ALTER TABLE [dbo].[PHONG] CHECK CONSTRAINT [FK_PHONG_LOAIPHONG]
GO
ALTER TABLE [dbo].[PHONG]  WITH CHECK ADD  CONSTRAINT [FK_PHONG_QUANLY] FOREIGN KEY([MAQL])
REFERENCES [dbo].[QUANLY] ([MAQL])
ON UPDATE CASCADE
GO
ALTER TABLE [dbo].[PHONG] CHECK CONSTRAINT [FK_PHONG_QUANLY]
GO
ALTER TABLE [dbo].[QUANLY]  WITH CHECK ADD  CONSTRAINT [FK_QUANLY_TAIKHOAN1] FOREIGN KEY([USERNAME])
REFERENCES [dbo].[TAIKHOAN] ([USERNAME])
ON UPDATE CASCADE
GO
ALTER TABLE [dbo].[QUANLY] CHECK CONSTRAINT [FK_QUANLY_TAIKHOAN1]
GO
ALTER TABLE [dbo].[QUYENTAIKHOAN]  WITH CHECK ADD  CONSTRAINT [FK_QUYENTAIKHOAN_PHANQUYEN] FOREIGN KEY([MAPQ])
REFERENCES [dbo].[PHANQUYEN] ([MAPQ])
ON UPDATE CASCADE
GO
ALTER TABLE [dbo].[QUYENTAIKHOAN] CHECK CONSTRAINT [FK_QUYENTAIKHOAN_PHANQUYEN]
GO
ALTER TABLE [dbo].[QUYENTAIKHOAN]  WITH CHECK ADD  CONSTRAINT [FK_QUYENTAIKHOAN_TAIKHOAN] FOREIGN KEY([USERNAME])
REFERENCES [dbo].[TAIKHOAN] ([USERNAME])
ON UPDATE CASCADE
GO
ALTER TABLE [dbo].[QUYENTAIKHOAN] CHECK CONSTRAINT [FK_QUYENTAIKHOAN_TAIKHOAN]
GO
ALTER TABLE [dbo].[SINHVIEN]  WITH CHECK ADD  CONSTRAINT [FK_SINHVIEN_QUANLY] FOREIGN KEY([MAQL])
REFERENCES [dbo].[QUANLY] ([MAQL])
ON UPDATE CASCADE
GO
ALTER TABLE [dbo].[SINHVIEN] CHECK CONSTRAINT [FK_SINHVIEN_QUANLY]
GO
ALTER TABLE [dbo].[VATTU]  WITH CHECK ADD  CONSTRAINT [FK_VATTU_QUANLY] FOREIGN KEY([MAQL])
REFERENCES [dbo].[QUANLY] ([MAQL])
ON UPDATE CASCADE
GO
ALTER TABLE [dbo].[VATTU] CHECK CONSTRAINT [FK_VATTU_QUANLY]
GO
ALTER TABLE [dbo].[VT_PHONG]  WITH CHECK ADD  CONSTRAINT [FK_VT_PHONG_PHONG] FOREIGN KEY([MAPHONG])
REFERENCES [dbo].[PHONG] ([MAPHONG])
GO
ALTER TABLE [dbo].[VT_PHONG] CHECK CONSTRAINT [FK_VT_PHONG_PHONG]
GO
ALTER TABLE [dbo].[VT_PHONG]  WITH CHECK ADD  CONSTRAINT [FK_VT_PHONG_VATTU] FOREIGN KEY([MAVT])
REFERENCES [dbo].[VATTU] ([MAVT])
GO
ALTER TABLE [dbo].[VT_PHONG] CHECK CONSTRAINT [FK_VT_PHONG_VATTU]
GO
ALTER TABLE [dbo].[HOPDONG]  WITH CHECK ADD  CONSTRAINT [CK_HOPDONG] CHECK  (([HOCKY]>='1' AND [HOCKY]<='3'))
GO
ALTER TABLE [dbo].[HOPDONG] CHECK CONSTRAINT [CK_HOPDONG]
GO
/****** Object:  StoredProcedure [dbo].[SP_DOLOGIN]    Script Date: 6/13/2022 11:21:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROC [dbo].[SP_DOLOGIN]
@USERNAME NCHAR (50), @PASSWORD NCHAR (50)
AS
BEGIN
    IF (EXISTS (SELECT USERNAME FROM TAIKHOAN WHERE USERNAME = @USERNAME AND PASSWORD = @PASSWORD AND TINHTRANGSUDUNG = 'true'))
		SELECT 1;
	ELSE IF (EXISTS (SELECT USERNAME FROM TAIKHOAN WHERE USERNAME = @USERNAME AND PASSWORD = @PASSWORD AND TINHTRANGSUDUNG = 'false'))
		SELECT 2;
	ELSE
		SELECT 0;
END
GO
/****** Object:  StoredProcedure [dbo].[SP_GETUSERINFO]    Script Date: 6/13/2022 11:21:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[SP_GETUSERINFO]
@USERNAME NCHAR (50)
AS
BEGIN
    SELECT * 
	FROM QUANLY 
	WHERE QUANLY.USERNAME = @USERNAME
END
GO
/****** Object:  StoredProcedure [dbo].[SP_GETUSERPERMISSION]    Script Date: 6/13/2022 11:21:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[SP_GETUSERPERMISSION]
@USERNAME NCHAR (50)
AS
BEGIN
    SELECT QUYENTAIKHOAN.*, PHANQUYEN.VAITRO, PERMISSION.CONGVIEC
	FROM QUYENTAIKHOAN
	INNER JOIN PHANQUYEN
		ON QUYENTAIKHOAN.MAPQ = PHANQUYEN.MAPQ
	INNER JOIN PHANCONGVIEC
		ON PHANQUYEN.MAPQ = PHANCONGVIEC.MAPQ
	INNER JOIN PERMISSION
		ON PHANCONGVIEC.MAPMS = PERMISSION.MAPMS
	WHERE USERNAME = @USERNAME
END
GO
/****** Object:  StoredProcedure [dbo].[SP_SINHVIENTHEOPHONG]    Script Date: 6/13/2022 11:21:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO


CREATE PROC [dbo].[SP_SINHVIENTHEOPHONG]
@MAPHONG CHAR (3)
AS
BEGIN
    SELECT SINHVIEN.*, HOPDONG.MAPHONG
	FROM SINHVIEN
	INNER JOIN HOPDONG
		ON SINHVIEN.MASV = HOPDONG.MASV
	WHERE HOPDONG.MAPHONG = @MAPHONG
END
GO
/****** Object:  StoredProcedure [dbo].[SP_VERIFYADMINAUTHORIZATION]    Script Date: 6/13/2022 11:21:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROC [dbo].[SP_VERIFYADMINAUTHORIZATION]
@ADMINUSERNAME NCHAR (50), @ADMINPASSWORD NCHAR (50)
AS
BEGIN
    IF (EXISTS (SELECT TAIKHOAN.USERNAME 
				FROM TAIKHOAN 
				INNER JOIN QUYENTAIKHOAN
				ON TAIKHOAN.USERNAME = QUYENTAIKHOAN.USERNAME
					AND QUYENTAIKHOAN.MAPQ = 'AD'
				WHERE TAIKHOAN.USERNAME = 'admin' AND PASSWORD = 'asd'))
		SELECT 1;
	ELSE 
		SELECT 0;
END
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Thuong; Dich vu ; VIP' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'LOAIPHONG', @level2type=N'COLUMN',@level2name=N'DICHVU'
GO
USE [master]
GO
ALTER DATABASE [ql_KTX] SET  READ_WRITE 
GO
